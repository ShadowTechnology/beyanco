<div class="images-page">
  <div class="page-header-modern">
    <h2>My Workspace Gallery</h2>
  </div>

  <!-- Tabs -->
  <div class="tabs">
    <button [class.active]="activeTab === 'uploaded'" (click)="activeTab = 'uploaded'">Uploaded Images</button>
    <button [class.active]="activeTab === 'generated'" (click)="activeTab = 'generated'">Generated Images</button>
    <button [class.active]="activeTab === 'beforeafter'" (click)="activeTab = 'beforeafter'">Before/After</button>
  </div>

  <!-- Uploaded Images -->
  <div class="gallery-grid" *ngIf="activeTab === 'uploaded'">
    <div class="image-card" *ngFor="let img of uploadedImages" (click)="openPreview(img)">
      <img [src]="img" alt="Uploaded Image" />
    </div>
  </div>

  <!-- Generated Images -->
  <div class="gallery-grid" *ngIf="activeTab === 'generated'">
    <div class="image-card" *ngFor="let img of generatedImages" (click)="openPreview(img)">
      <img [src]="img" alt="Generated Image" />
    </div>
  </div>

  <!-- Before After Slider -->
  <div class="ba-container" *ngIf="activeTab === 'beforeafter'">

    <div class="ba-wrapper" *ngFor="let item of beforeAfterImages; let i = index">

      <div class="ba-label before">Before</div>
      <div class="ba-label after">After</div>

      <img class="ba-img before-img" [src]="item.before" />

      <img 
        class="ba-img after-img"
        [src]="item.after"
        [style.clip-path]="'inset(0 ' + (100 - sliderValues[i]) + '% 0 0)'"
      />

      <div class="ba-handle-line" [style.left]="sliderValues[i] + '%'"></div>

      <div class="ba-handle" [style.left]="sliderValues[i] + '%'"></div>

      <input 
        type="range" 
        class="ba-slider"
        min="0" 
        max="100"
        [value]="sliderValues[i]"
        (input)="onSlider(i, $event)"
      />

    </div>

  </div>

  <!-- Modal -->
  <div class="modal" *ngIf="previewImage" (click)="closePreview()">
    <img [src]="previewImage" class="modal-content" />
  </div>
</div>
